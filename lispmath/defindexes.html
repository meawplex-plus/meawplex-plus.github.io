<!DOCTYPE html> <html lang="en"> <head> <meta charset="utf-8"> <title>lispmath v1.0.0 documentation</title> <style>html body{margin:0 auto 0 auto;padding:20px;max-width:1024px;font-family:sans-serif;font-size:14pt;overflow-y:scroll;}html body a{text-decoration:none;}html body a[href]{color:#0055AA;}html body a[href]:hover{color:#0088EE;}html body pre{background:#FAFAFA;border:1px solid #DDDDDD;padding:0.75em;overflow-x:auto;}html body pre >code a[href]{color:#223388;}article.project h1{font-size:1.7em;}article.project h1,article.project h2,article.project h3,article.project h4,article.project h5,article.project h6{margin:0.2em 0 0.1em 0;text-indent:1em;}article.project >header{text-align:center;}article.project >header img.logo{display:block;margin:auto;max-height:170px;}article.project >header h1{display:inline-block;text-indent:0;font-size:2.5em;}article.project >header .version{vertical-align:bottom;}article.project >header .languages{margin-top:-0.5em;text-transform:capitalize;}article.project >header .description{margin:0;}article.project >header .pages{margin-top:0.5em;font-size:1.2em;text-transform:capitalize;}article.project >header .pages a{display:inline-block;padding:0 0.2em;}article.project >section{margin:1em 0 1em 0;}article.project #index >ul{list-style:none;margin:0;padding:0;}article.project .row label{display:inline-block;min-width:8em;}article.project #system .row{display:flex;}article.project #system #dependencies{display:inline;margin:0;padding:0;}article.project #system #dependencies li{display:inline;padding:0 0.2em;}article.definition{margin:1em 0 0 0;}article.definition >header h1,article.definition >header h2,article.definition >header h3,article.definition >header h4,article.definition >header h5,article.definition >header h6{text-indent:0;display:inline-block;}article.definition >header ul{display:inline-block;list-style:none;margin:0;padding:0;}article.definition >header ul li{display:inline-block;padding:0 0.2em 0 0;}article.definition >header .visibility{display:none;}article.definition >header .visibility,article.definition >header .type{text-transform:lowercase;}article.definition >header .source-link{visibility:hidden;float:right;}article.definition >header .source-link:after{visibility:visible;content:"[SRC]";}article.definition .docstring{margin:0 0 0 1em;}article.definition .docstring pre{font-size:0.8em;white-space:pre-wrap;}.definition.package >header ul.nicknames{display:inline-block;list-style:none;margin:0;padding:0 0 0 1em;}.definition.package >header ul.nicknames li{display:inline;}.definition.package >header ul.nicknames:before{content:"(";}.definition.package >header ul.nicknames:after{content:")";}.definition.package ul.definitions{margin:0;list-style:none;padding:0 0 0 0.5em;}.definition.callable >header .name:before,.definition.type >header .name:before{content:"(";font-weight:normal;}.definition.callable >header .arguments:after,.definition.type >header .arguments:after{content:")";}.definition.callable >header .arguments .arguments:before,.definition.type >header .arguments .arguments:before{content:"(";}.definition.callable >header .arguments .argument,.definition.type >header .arguments .argument{padding:0;}.definition.callable >header .arguments .argument.lambda-list-keyword,.definition.type >header .arguments .argument.lambda-list-keyword{color:#991155;}.definition li>mark{background:none;border-left:0.3em solid #0088EE;padding-left:0.3em;display:block;} </style> </head> <body> <article class="project"> <header>  <h1>lispmath</h1>  <span class="version">1.2.0</span>  <nav class="languages">  </nav>  <p class="description">The handy dandy math pack</p>  <nav class="pages">  </nav> </header> <section id="documentation"> </section>   <section id="system"> <h2>System Information</h2>  <div class="row"> <label for="version">Version:</label> <a id="version">1.2.0</a> </div>    <div class="row"> <label for="author">Author:</label> <a id="author">mohindertalafuse (Mo Talafuse) and stalafuse (Scott Talafuse) and ksaj (Karsten Johansson)</a> </div>    <div class="row"> <label for="homepage">Homepage:</label> <a id="homepage" href="https://mohindertalafuse.github.io">https://mohindertalafuse.github.io</a> </div>   <div class="row"> <label for="sources">Sources:</label> <a id="sources" href="https://github.com/mohindertalafuse/lispmath">https://github.com/mohindertalafuse/lispmath</a> </div>   <div class="row"> <label for="bug-tracker">Report issues to:</label> <a id="bug-tracker" href="https://github.com/mohindertalafuse/lispmath/issues">https://github.com/mohindertalafuse/lispmath/issues</a> </div>  </section>    <section id="index"> <h2>Definition Index</h2> <ul> <li> <article class="definition package" id="package LISPMATH"> <header> <h3> <a href="#package%20LISPMATH">LISPMATH</a> </h3> <ul class="nicknames"> <li>*No nicknames*</li> </ul>  </header> <div class="docstring"><pre>Handy math tools for Common Lisp.</pre></div> <ul class="definitions"> <li> <article class="definition constant" id="variable LISPMATH:2pi"> <header> <span class="visibility">external</span> <span class="type">constant</span> <h4 class="name"> <a href="#variable%20LISPMATH%3A2pi">2pi</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="http://github.com/mohindertalafuse/lispmath/blob/master/circular.lisp#L5">Source</a>  </header> <div class="docstring"><pre>Another way to represent tau. In fact, tau is more often used than pi!</pre></div> </article> </li>  <li> <article class="definition constant" id="variable LISPMATH:2π"> <header> <span class="visibility">external</span> <span class="type">constant</span> <h4 class="name"> <a href="#variable%20LISPMATH%3A2%CF%80">2π</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="http://github.com/mohindertalafuse/lispmath/blob/master/circular.lisp#L6">Source</a>  </header> <div class="docstring"><pre>And this too, but instead with the symbol for pi.</pre></div> </article> </li>  <li> <article class="definition constant" id="variable LISPMATH:cos-degrees-identity"> <header> <span class="visibility">external</span> <span class="type">constant</span> <h4 class="name"> <a href="#variable%20LISPMATH%3Acos-degrees-identity">cos-degrees-identity</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="http://github.com/mohindertalafuse/lispmath/blob/master/trig.lisp#L5">Source</a>  </header> <div class="docstring"><pre>Cosine identity in degrees</pre></div> </article> </li>  <li> <article class="definition constant" id="variable LISPMATH:cot-degrees-identity"> <header> <span class="visibility">external</span> <span class="type">constant</span> <h4 class="name"> <a href="#variable%20LISPMATH%3Acot-degrees-identity">cot-degrees-identity</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="http://github.com/mohindertalafuse/lispmath/blob/master/trig.lisp#L8">Source</a>  </header> <div class="docstring"><pre>Same, but for cotangent</pre></div> </article> </li>  <li> <article class="definition constant" id="variable LISPMATH:csc-degrees-identity"> <header> <span class="visibility">external</span> <span class="type">constant</span> <h4 class="name"> <a href="#variable%20LISPMATH%3Acsc-degrees-identity">csc-degrees-identity</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="http://github.com/mohindertalafuse/lispmath/blob/master/trig.lisp#L9">Source</a>  </header> <div class="docstring"><pre>Cosecant this time</pre></div> </article> </li>  <li> <article class="definition constant" id="variable LISPMATH:sec-degrees-identity"> <header> <span class="visibility">external</span> <span class="type">constant</span> <h4 class="name"> <a href="#variable%20LISPMATH%3Asec-degrees-identity">sec-degrees-identity</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="http://github.com/mohindertalafuse/lispmath/blob/master/trig.lisp#L7">Source</a>  </header> <div class="docstring"><pre>Secant identity</pre></div> </article> </li>  <li> <article class="definition constant" id="variable LISPMATH:sin-degrees-identity"> <header> <span class="visibility">external</span> <span class="type">constant</span> <h4 class="name"> <a href="#variable%20LISPMATH%3Asin-degrees-identity">sin-degrees-identity</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="http://github.com/mohindertalafuse/lispmath/blob/master/trig.lisp#L4">Source</a>  </header> <div class="docstring"><pre>For sine this time</pre></div> </article> </li>  <li> <article class="definition constant" id="variable LISPMATH:tan-degrees-identity"> <header> <span class="visibility">external</span> <span class="type">constant</span> <h4 class="name"> <a href="#variable%20LISPMATH%3Atan-degrees-identity">tan-degrees-identity</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="http://github.com/mohindertalafuse/lispmath/blob/master/trig.lisp#L6">Source</a>  </header> <div class="docstring"><pre>Tangent too</pre></div> </article> </li>  <li> <article class="definition constant" id="variable LISPMATH:tau"> <header> <span class="visibility">external</span> <span class="type">constant</span> <h4 class="name"> <a href="#variable%20LISPMATH%3Atau">tau</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="http://github.com/mohindertalafuse/lispmath/blob/master/circular.lisp#L4">Source</a>  </header> <div class="docstring"><pre>Going back to tau/pi. The literal name.</pre></div> </article> </li>  <li> <article class="definition constant" id="variable LISPMATH:π"> <header> <span class="visibility">external</span> <span class="type">constant</span> <h4 class="name"> <a href="#variable%20LISPMATH%3A%CF%80">π</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="http://github.com/mohindertalafuse/lispmath/blob/master/circular.lisp#L7">Source</a>  </header> <div class="docstring"><pre>There's going to be one last symbol...</pre></div> </article> </li>  <li> <article class="definition constant" id="variable LISPMATH:τ"> <header> <span class="visibility">external</span> <span class="type">constant</span> <h4 class="name"> <a href="#variable%20LISPMATH%3A%CF%84">τ</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="http://github.com/mohindertalafuse/lispmath/blob/master/circular.lisp#L8">Source</a>  </header> <div class="docstring"><pre>This one.</pre></div> </article> </li>  <li> <article class="definition function callable" id="function LISPMATH:catn"> <header> <span class="visibility">external</span> <span class="type">function</span> <h4 class="name"> <a href="#function%20LISPMATH%3Acatn">catn</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">n</li>  </ul>  <a class="source-link" href="http://github.com/mohindertalafuse/lispmath/blob/master/functions-and-predicates.lisp#L78">Source</a>  </header> <div class="docstring"><pre>Take N and return the Nth Catalan number. ((catn 0) evaluates to 0.)</pre></div> </article> </li>  <li> <article class="definition function callable" id="function LISPMATH:catnp"> <header> <span class="visibility">external</span> <span class="type">function</span> <h4 class="name"> <a href="#function%20LISPMATH%3Acatnp">catnp</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">n</li>  </ul>  <a class="source-link" href="http://github.com/mohindertalafuse/lispmath/blob/master/functions-and-predicates.lisp#L85">Source</a>  </header> <div class="docstring"><pre>Predicate for catn func.</pre></div> </article> </li>  <li> <article class="definition function callable" id="function LISPMATH:circle-area"> <header> <span class="visibility">external</span> <span class="type">function</span> <h4 class="name"> <a href="#function%20LISPMATH%3Acircle-area">circle-area</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">radius</li>  </ul>  <a class="source-link" href="http://github.com/mohindertalafuse/lispmath/blob/master/circular.lisp#L42">Source</a>  </header> <div class="docstring"><pre>Calculate area of a circle. Implemented by Karsten Johansson.</pre></div> </article> </li>  <li> <article class="definition function callable" id="function LISPMATH:circumference"> <header> <span class="visibility">external</span> <span class="type">function</span> <h4 class="name"> <a href="#function%20LISPMATH%3Acircumference">circumference</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">radius</li>  </ul>  <a class="source-link" href="http://github.com/mohindertalafuse/lispmath/blob/master/circular.lisp#L50">Source</a>  </header> <div class="docstring"><pre>Calculate circumference of a circle. Implemented by Karsten Johansson.</pre></div> </article> </li>  <li> <article class="definition function callable" id="function LISPMATH:comb"> <header> <span class="visibility">external</span> <span class="type">function</span> <h4 class="name"> <a href="#function%20LISPMATH%3Acomb">comb</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">n</li>    <li class="argument">k</li>  </ul>  <a class="source-link" href="http://github.com/mohindertalafuse/lispmath/blob/master/functions-and-predicates.lisp#L59">Source</a>  </header> <div class="docstring"><pre>Take N and K and return C(N, K). (C(N, K) is the combinations of N and K.)</pre></div> </article> </li>  <li> <article class="definition function callable" id="function LISPMATH:cos-degrees"> <header> <span class="visibility">external</span> <span class="type">function</span> <h4 class="name"> <a href="#function%20LISPMATH%3Acos-degrees">cos-degrees</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">degrees</li>  </ul>  <a class="source-link" href="http://github.com/mohindertalafuse/lispmath/blob/master/trig.lisp#L20">Source</a>  </header> <div class="docstring"><pre>Calculate the ratio of the adjacent to the hypotenuse leg of the angle chosen.
Returns number of type double-float; in other words, (cos-degrees 360) -&gt; 1.0d0.</pre></div> </article> </li>  <li> <article class="definition function callable" id="function LISPMATH:ellipse-area"> <header> <span class="visibility">external</span> <span class="type">function</span> <h4 class="name"> <a href="#function%20LISPMATH%3Aellipse-area">ellipse-area</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">a</li>    <li class="argument">b</li>  </ul>  <a class="source-link" href="http://github.com/mohindertalafuse/lispmath/blob/master/circular.lisp#L33">Source</a>  </header> <div class="docstring"><pre>Calculate area of an ellipse. Implemented by Karsten Johansson.</pre></div> </article> </li>  <li> <article class="definition function callable" id="function LISPMATH:ellipse-perimeter"> <header> <span class="visibility">external</span> <span class="type">function</span> <h4 class="name"> <a href="#function%20LISPMATH%3Aellipse-perimeter">ellipse-perimeter</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">a</li>    <li class="argument">b</li>  </ul>  <a class="source-link" href="http://github.com/mohindertalafuse/lispmath/blob/master/circular.lisp#L11">Source</a>  </header> <div class="docstring"><pre>Matt Parker's algorithm for estimating the perimeter of an ellipse,
  where perimeter ≈ π[53a/3 + 717b/35 - √(269a^2 + 667ab + 371b^2)]
Implemented by Karsten Johansson (https://github.com/ksaj/ksaj-ellipses)</pre></div> </article> </li>  <li> <article class="definition function callable" id="function LISPMATH:factorial"> <header> <span class="visibility">external</span> <span class="type">function</span> <h4 class="name"> <a href="#function%20LISPMATH%3Afactorial">factorial</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">a</li>    <li class="argument lambda-list-keyword">&amp;optional</li>    <li class="argument">fact</li>  </ul>  <a class="source-link" href="http://github.com/mohindertalafuse/lispmath/blob/master/functions-and-predicates.lisp#L43">Source</a>  </header> <div class="docstring"><pre>Calculate factorial. Optional second arg for multifactorial.</pre></div> </article> </li>  <li> <article class="definition function callable" id="function LISPMATH:factorialp"> <header> <span class="visibility">external</span> <span class="type">function</span> <h4 class="name"> <a href="#function%20LISPMATH%3Afactorialp">factorialp</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">n</li>  </ul>  <a class="source-link" href="http://github.com/mohindertalafuse/lispmath/blob/master/functions-and-predicates.lisp#L89">Source</a>  </header> <div class="docstring"><pre>Predicate for factorial func.</pre></div> </article> </li>  <li> <article class="definition function callable" id="function LISPMATH:fib"> <header> <span class="visibility">external</span> <span class="type">function</span> <h4 class="name"> <a href="#function%20LISPMATH%3Afib">fib</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">n</li>  </ul>  <a class="source-link" href="http://github.com/mohindertalafuse/lispmath/blob/master/functions-and-predicates.lisp#L31">Source</a>  </header> <div class="docstring"><pre>Take N and return the Nth fibonacci number.</pre></div> </article> </li>  <li> <article class="definition function callable" id="function LISPMATH:fibp"> <header> <span class="visibility">external</span> <span class="type">function</span> <h4 class="name"> <a href="#function%20LISPMATH%3Afibp">fibp</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">n</li>  </ul>  <a class="source-link" href="http://github.com/mohindertalafuse/lispmath/blob/master/functions-and-predicates.lisp#L87">Source</a>  </header> <div class="docstring"><pre>Predicate for fib func.</pre></div> </article> </li>  <li> <article class="definition function callable" id="function LISPMATH:genfib"> <header> <span class="visibility">external</span> <span class="type">function</span> <h4 class="name"> <a href="#function%20LISPMATH%3Agenfib">genfib</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">list-size</li>  </ul>  <a class="source-link" href="http://github.com/mohindertalafuse/lispmath/blob/master/functions-and-predicates.lisp#L39">Source</a>  </header> <div class="docstring"><pre>Take LIST-SIZE and return a list of the first LIST-SIZE fibonacci numbers.</pre></div> </article> </li>  <li> <article class="definition function callable" id="function LISPMATH:genpt"> <header> <span class="visibility">external</span> <span class="type">function</span> <h4 class="name"> <a href="#function%20LISPMATH%3Agenpt">genpt</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">rows</li>  </ul>  <a class="source-link" href="http://github.com/mohindertalafuse/lispmath/blob/master/functions-and-predicates.lisp#L72">Source</a>  </header> <div class="docstring"><pre>Take ROWS and return the first ROWS rows of Pascal's Triangle.</pre></div> </article> </li>  <li> <article class="definition function callable" id="function LISPMATH:genptrow"> <header> <span class="visibility">external</span> <span class="type">function</span> <h4 class="name"> <a href="#function%20LISPMATH%3Agenptrow">genptrow</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">n</li>  </ul>  <a class="source-link" href="http://github.com/mohindertalafuse/lispmath/blob/master/functions-and-predicates.lisp#L64">Source</a>  </header> <div class="docstring"><pre>Take N and return the Nth row of Pascal's Triangle.
The first row is row 0.
Thus, (genptrow 1) evaluates to everything on row 0.</pre></div> </article> </li>  <li> <article class="definition function callable" id="function LISPMATH:hypot"> <header> <span class="visibility">external</span> <span class="type">function</span> <h4 class="name"> <a href="#function%20LISPMATH%3Ahypot">hypot</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">leg1</li>    <li class="argument">leg2</li>  </ul>  <a class="source-link" href="http://github.com/mohindertalafuse/lispmath/blob/master/trig.lisp#L11">Source</a>  </header> <div class="docstring"><pre>Calculate hypotenuse length of triangle made by two legs.</pre></div> </article> </li>  <li> <article class="definition function callable" id="function LISPMATH:perm"> <header> <span class="visibility">external</span> <span class="type">function</span> <h4 class="name"> <a href="#function%20LISPMATH%3Aperm">perm</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">n</li>    <li class="argument">k</li>  </ul>  <a class="source-link" href="http://github.com/mohindertalafuse/lispmath/blob/master/functions-and-predicates.lisp#L54">Source</a>  </header> <div class="docstring"><pre>Take N and K and return P(N, K). (P(N, K) is the permutations of N and K.)</pre></div> </article> </li>  <li> <article class="definition function callable" id="function LISPMATH:sec-degrees"> <header> <span class="visibility">external</span> <span class="type">function</span> <h4 class="name"> <a href="#function%20LISPMATH%3Asec-degrees">sec-degrees</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">degrees</li>  </ul>  <a class="source-link" href="http://github.com/mohindertalafuse/lispmath/blob/master/trig.lisp#L30">Source</a>  </header> <div class="docstring"><pre>Calulate the secant (colloquially the 'co-cosine') of an angle, which is 1/cos(angle). 
Returns number of type double float; in other words, (sec-degrees 0) -&gt; 1.0d0.</pre></div> </article> </li>  <li> <article class="definition function callable" id="function LISPMATH:sin-degrees"> <header> <span class="visibility">external</span> <span class="type">function</span> <h4 class="name"> <a href="#function%20LISPMATH%3Asin-degrees">sin-degrees</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">degrees</li>  </ul>  <a class="source-link" href="http://github.com/mohindertalafuse/lispmath/blob/master/trig.lisp#L15">Source</a>  </header> <div class="docstring"><pre>Calculate the ratio of the opposite to the hypotenuse leg of the angle chosen.
Returns number of type double-float; in other words, (sin-degrees 90) -&gt; 1.0d0.</pre></div> </article> </li>  <li> <article class="definition function callable" id="function LISPMATH:source-p"> <header> <span class="visibility">external</span> <span class="type">function</span> <h4 class="name"> <a href="#function%20LISPMATH%3Asource-p">source-p</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">func</li>  </ul>  <a class="source-link" href="http://github.com/mohindertalafuse/lispmath/blob/master/functions-and-predicates.lisp#L5">Source</a>  </header> <div class="docstring"><pre>Return source code for predicate defining function.
Expects quote function name as an argument.</pre></div> </article> </li>  <li> <article class="definition function callable" id="function LISPMATH:tan-degrees"> <header> <span class="visibility">external</span> <span class="type">function</span> <h4 class="name"> <a href="#function%20LISPMATH%3Atan-degrees">tan-degrees</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">degrees</li>  </ul>  <a class="source-link" href="http://github.com/mohindertalafuse/lispmath/blob/master/trig.lisp#L25">Source</a>  </header> <div class="docstring"><pre>Calculate the ratio of the opposite to the adjacent leg of the angle chosen.
Returns number of type double-float; in other words, (tan-degrees 45) -&gt; 1.0d0.</pre></div> </article> </li>  <li> <article class="definition macro callable" id="macro-function LISPMATH:create-p"> <header> <span class="visibility">external</span> <span class="type">macro</span> <h4 class="name"> <a href="#macro-function%20LISPMATH%3Acreate-p">create-p</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">func</li>    <li class="argument">docstring</li>    <li class="argument">argname</li>  </ul>  <a class="source-link" href="http://github.com/mohindertalafuse/lispmath/blob/master/functions-and-predicates.lisp#L16">Source</a>  </header> <div class="docstring"><pre>Return fully defined predicate function.
Does NOT expect quote function name as an argument.
Rather, expects straight name. (i.e. (create-p fofo).)
Requires docstring as argument.</pre></div> </article> </li> </ul> </article> </li> </ul> </section>  </article> <script>window.addEventListener("DOMContentLoaded", function(){
    var unmarkElement = function(el){
        if(el.tagName === "mark" || el.tagName === "MARK"){
            [].forEach.call(el.childNodes, function(child){
                el.parentNode.insertBefore(child, el);
            });
            el.parentNode.removeChild(el);
        }else if(el.parentNode.tagName === "mark"){
            return unmarkElement(el.parentNode);
        }
        return null;
    }

    var unmarkAll = function(root){
        root = root || document;
        [].forEach.call(root.querySelectorAll("mark"), unmarkElement);
    }
    
    var markElement = function(el){
        if(el.parentNode.tagName === "mark" || el.parentNode.tagName === "MARK"){
            return el.parentNode;
        } else {
            unmarkAll();
            var marked = document.createElement("mark");
            el.parentNode.insertBefore(marked, el);
            marked.appendChild(el);
            return marked;
        }
    }

    var markFragmented = function(){
        if(window.location.hash){
            var el = document.getElementById(decodeURIComponent(window.location.hash.substr(1)));
            if(el) markElement(el);
        }
    }

    var registerXrefLink = function(link){
        var el = document.getElementById(decodeURIComponent(link.getAttribute("href").substr(1)));
        if(el){
            link.addEventListener("click", function(){
                markElement(el);
            });
        }
    }

    var registerXrefLinks = function(root){
        root = root || document;
        [].forEach.call(root.querySelectorAll("a.xref"), registerXrefLink);
    }

    markFragmented();
    registerXrefLinks();
}); </script> </body> </html> 